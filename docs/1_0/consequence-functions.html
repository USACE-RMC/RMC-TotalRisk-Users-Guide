<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>9 Consequence Functions | RMC-TotalRisk User’s Guide</title>
<meta name="author" content="C. Haden Smith and Woodrow L. Fields">
<meta name="description" content="Consequence functions in RMC-TotalRisk quantify the magnitude of consequences that arise from a given range of hazards. These functions estimate how much life loss or economic damage to expect...">
<meta name="generator" content="bookdown 0.42 with bs4_book()">
<meta property="og:title" content="9 Consequence Functions | RMC-TotalRisk User’s Guide">
<meta property="og:type" content="book">
<meta property="og:url" content="https://usace-rmc.github.io/RMC-TotalRisk-Users-Guide/1_0/consequence-functions.html">
<meta property="og:description" content="Consequence functions in RMC-TotalRisk quantify the magnitude of consequences that arise from a given range of hazards. These functions estimate how much life loss or economic damage to expect...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="9 Consequence Functions | RMC-TotalRisk User’s Guide">
<meta name="twitter:description" content="Consequence functions in RMC-TotalRisk quantify the magnitude of consequences that arise from a given range of hazards. These functions estimate how much life loss or economic damage to expect...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-MR04B64GRR"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-MR04B64GRR');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">RMC-TotalRisk User’s Guide</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="welcome.html"><span class="header-section-number">1</span> Welcome to RMC-TotalRisk</a></li>
<li><a class="" href="risk-analysis-framework.html"><span class="header-section-number">2</span> Risk Analysis Framework</a></li>
<li><a class="" href="installation.html"><span class="header-section-number">3</span> Installing RMC-TotalRisk</a></li>
<li><a class="" href="gui.html"><span class="header-section-number">4</span> Graphical User Interface</a></li>
<li><a class="" href="create-a-project.html"><span class="header-section-number">5</span> Create a Project</a></li>
<li><a class="" href="hazard-functions.html"><span class="header-section-number">6</span> Hazard Functions</a></li>
<li><a class="" href="transform-functions.html"><span class="header-section-number">7</span> Transform Functions</a></li>
<li><a class="" href="system-response-functions.html"><span class="header-section-number">8</span> System Response Functions</a></li>
<li><a class="active" href="consequence-functions.html"><span class="header-section-number">9</span> Consequence Functions</a></li>
<li><a class="" href="risk-analyses.html"><span class="header-section-number">10</span> Risk Analyses</a></li>
<li><a class="" href="risk-analysis-results.html"><span class="header-section-number">11</span> Risk Analysis Results</a></li>
<li><a class="" href="risk-analysis-diagnostics.html"><span class="header-section-number">12</span> Risk Analysis Diagnostics</a></li>
<li><a class="" href="references.html">References</a></li>
<li><a class="" href="appendix-a---acronyms.html"><span class="header-section-number">13</span> Appendix A - Acronyms</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/USACE-RMC/RMC-TotalRisk-Users-Guide">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="consequence-functions" class="section level1" number="9">
<h1>
<span class="header-section-number">9</span> Consequence Functions<a class="anchor" aria-label="anchor" href="#consequence-functions"><i class="fas fa-link"></i></a>
</h1>
<p>Consequence functions in RMC-TotalRisk quantify the magnitude of consequences that arise from a given range of hazards. These functions estimate how much life loss or economic damage to expect based on a hazard level and the associated system response. Dam and levee safety risk analyses typically define consequence functions separately for each PFM because the consequences can vary depending on the failure mode being assessed. For example, an overtopping failure mode typically provides more warning time than an earthquake-driven failure, resulting in different life loss estimates.</p>
<p>You can define consequence functions in RMC-TotalRisk by importing them directly from a LifeSim version 2.0 model, specifying a tabular function, or creating a composite function. The following subsections describe each consequence function option in detail.</p>
<div id="import-from-lifesim" class="section level2" number="9.1">
<h2>
<span class="header-section-number">9.1</span> Import from LifeSim<a class="anchor" aria-label="anchor" href="#import-from-lifesim"><i class="fas fa-link"></i></a>
</h2>
<p>The USACE RMC, in collaboration with the HEC, developed the LifeSim software for estimating life loss and economic damage <span class="citation"><a href="#ref-cite-LifeSimManual" role="doc-biblioref">[7]</a></span>. LifeSim is an agent-based system that simulates population redistribution during evacuation and evaluates consequences based on the hazard (e.g., flooding) <span class="citation"><a href="#ref-cite-Fields2016" role="doc-biblioref">[8]</a></span>. You can download LifeSim from the <a href="https://www.rmc.usace.army.mil/Software/LifeSim/">RMC website</a> and import its analysis results directly into RMC-TotalRisk.</p>
<p>To import LifeSim analysis results, right-click on the <strong>Consequences</strong> folder in the Project Explorer (Figure <a href="consequence-functions.html#fig:figure-112">9.1</a>) or go to <strong>Project Menu &gt; Consequences</strong> and select <strong>Add LifeSim Consequence…</strong>. Enter the consequence function name and select the LifeSim project file with the desired results (Figure <a href="consequence-functions.html#fig:figure-112">9.1</a>). Next, click <strong>OK</strong> to import the LifeSim study results.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-112"></span>
<img src="images/figure112.png" alt="The Add LifeSim Consequence option under the right-click menu of Consequences on the left, and the LifeSim Consequence function dialog box on the right allowing the user to enter the name of the consequence function and select the LifeSim project file."><p class="caption">
Figure 9.1: Create new LifeSim consequence function.
</p>
</div>
<p>Creating the new LifeSim consequence function opens the Tabbed Documents area, and the Properties window displays the function properties (Figure <a href="consequence-functions.html#fig:figure-113">9.2</a>). From here, you can set the name, description, hazard type, hazard units, and hazard and consequence interpolation transforms. These interpolation transforms define how the data is interpolated when sampling values between the specified LifeSim results.</p>
<p>The <strong>LifeSim Results</strong> section of the Properties window contains three key parameters:</p>
<ul>
<li><p><strong>Consequence</strong> determines what type of consequence to select from the LifeSim results. The options are Life Loss and $ Damages.</p></li>
<li><p><strong>Starting Hazard</strong> is the hazard level where consequences begin. This parameter provides a lower bound for the consequence function. The starting hazard level must be below the lowest value in the imported LifeSim results.</p></li>
<li><p><strong>Combine Zones</strong>, if checked, combines selected LifeSim results from the entire simulation area. If unchecked, you need to select specific summary zones (regions) from LifeSim results. LifeSim can geographically separate results by summary zone, allowing flexibility when creating consequence functions.</p></li>
</ul>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-113"></span>
<img src="images/figure113.png" alt="Displays the LifeSim Consequence function Properties window with LifeSim consequence properties, interpolation transforms, and LifeSim results sections of the inputs."><p class="caption">
Figure 9.2: LifeSim consequence function properties.
</p>
</div>
<p>The LifeSim consequence function is created in the Tabbed Document (Figure <a href="consequence-functions.html#fig:figure-114">9.3</a>). Use the table on the left to enter hazard levels (e.g., reservoir pool elevations or river flows) and LifeSim simulation results. A graphical representation of the function displays to the right of the table.</p>
<p>Follow these steps to enter each LifeSim result:</p>
<ol style="list-style-type: decimal">
<li><p>Use the table tools to add rows for each desired hazard level. The hazard levels must be in ascending order.</p></li>
<li><p>For each defined hazard level, select a LifeSim simulation result from the dropdown menu(s). Navigate the LifeSim results more easily by using the <strong>Filtered View</strong> check box to filter the cell contents to only contain results from the selected simulations/alternatives/times of day. For example, in Figure <a href="consequence-functions.html#fig:figure-114">9.3</a> the only options in the alternative column are from the future without project (FWOP) simulations and the available hazard time(s) are based on the selected simulation-alternative combination.</p></li>
</ol>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-114"></span>
<img src="images/figure114.png" alt="Displays a filtered view of LifeSim simulation results for a selected simulation-alternative combination in a table on the left and a graphical representation of the consequence function on the right. In the foreground, a popup window shows the selected distribution for a hazard level."><p class="caption">
Figure 9.3: LifeSim consequence function tabbed document.
</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>Once you select a LifeSim simulation result, multiple distributions auto-fit to the data and a truncated normal distribution represents potential consequences with uncertainty at the specified hazard level. To view, change, or edit the selected distribution click the button in the distribution column cell. A popup (Figure <a href="consequence-functions.html#fig:figure-115">9.4</a>) shows the selected distribution, the distribution’s PDF, and a histogram of the LifeSim results data for a visual comparison of the distribution fit. Summary statistics are provided for both the selected distribution and the LifeSim results data, including goodness of fit tests for the distribution and the data.</li>
</ol>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-115"></span>
<img src="images/figure115.png" alt="The window displays the selected distribution details at the top, and a plot of the distribution’s PDF overlayed on a histogram of the LifeSim results in the middle and the summary statistics for both the selected distribution and the LifeSim results data in a table at the bottom."><p class="caption">
Figure 9.4: LifeSim result distribution selector control.
</p>
</div>
</div>
<div id="tabular-consequence-function" class="section level2" number="9.2">
<h2>
<span class="header-section-number">9.2</span> Tabular Consequence Function<a class="anchor" aria-label="anchor" href="#tabular-consequence-function"><i class="fas fa-link"></i></a>
</h2>
<p>This option allows you to define a consequence function using tabular data. A common use case involves copying and pasting data from another application, such as Microsoft Excel.</p>
<p>To create a tabular consequence function, right-click on the <strong>Consequences</strong> folder in the Project Explorer (Figure <a href="consequence-functions.html#fig:figure-116">9.5</a>) or navigate to <strong>Project Menu &gt; Consequences</strong> and select <strong>Add Tabular Consequence…</strong>. Enter a name for the tabular consequence function and click <strong>OK</strong>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-116"></span>
<img src="images/figure116.png" alt="The Add Tabular Consequence option under the right-click menu of Consequences on the left, and the Tabular Consequence function dialog box on the right allowing the user to enter the name of the consequence function."><p class="caption">
Figure 9.5: Create new tabular transform function.
</p>
</div>
<p>Creating the new tabular consequence function opens the Tabbed Documents area, and the Properties window displays the tabular function properties (Figure <a href="consequence-functions.html#fig:figure-117">9.6</a>). In the Properties window, you can set the name, description, hazard type, hazard units, consequence, consequence unit, and hazard and consequence interpolation transforms. These interpolation transforms define how the data is interpolated when sampling values between the specified tabular ordinates.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-117"></span>
<img src="images/figure117.png" alt="The Tabular consequence properties window displaying name, description, created on and last modified dates, hazard type, hazard units, consequence, consequence units, and interpolation transforms input fields."><p class="caption">
Figure 9.6: Tabular consequence function properties.
</p>
</div>
<p>The Tabbed Document for the tabular consequence function contains the table to enter data and a graphical representation of that data (Figure <a href="consequence-functions.html#fig:figure-118">9.7</a>). Define uncertainty around the consequence for each tabular ordinate. Select a distribution to define uncertainty and enter parameters for the selected distribution for every ordinate in the tabular data. You can enter data manually into the table or paste it from another source such as Microsoft Excel.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-118"></span>
<img src="images/figure118.png" alt="Displays the tabular consequence function table using PERT-Percentile distribution selection from dropdown on the left and the corresponding graph with mean, median, minimum, maximum, and 90% confidence interval on the right with Stage in ft on the x-axis and Life Loss in lives on the y-axis."><p class="caption">
Figure 9.7: Tabular consequence function example.
</p>
</div>
<div id="data-validation-3" class="section level3" number="9.2.1">
<h3>
<span class="header-section-number">9.2.1</span> Data Validation<a class="anchor" aria-label="anchor" href="#data-validation-3"><i class="fas fa-link"></i></a>
</h3>
<p>The input data table has built-in validation. Tabular data must meet the following requirements:</p>
<ul>
<li><p>Hazard values must be in ascending order.</p></li>
<li><p>If uncertainty is defined, each uncertain ordinates must contain valid distribution parameters.</p></li>
</ul>
<p>When you enter invalid data, the table cell turns red and a tooltip indicates the source of the error, as shown in Figure <a href="consequence-functions.html#fig:figure-119">9.8</a>. In addition, an error message appears in the Message window, prompting you to resolve all errors in the data table.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-119"></span>
<img src="images/figure119.png" alt="The Stage-Life Loss input data table with invalid data cells turned red, and a tooltip displaying the source of the error."><p class="caption">
Figure 9.8: Tabular consequence function data validation.
</p>
</div>
</div>
</div>
<div id="composite-consequence-function" class="section level2" number="9.3">
<h2>
<span class="header-section-number">9.3</span> Composite Consequence Function<a class="anchor" aria-label="anchor" href="#composite-consequence-function"><i class="fas fa-link"></i></a>
</h2>
<p>This option combines multiple consequence functions into a single function by weighting the individual input functions, averaging them, or adding them. Common use cases include combining a daytime consequence function with a nighttime function by weighting them or aggregating damage functions by structure damage category into a single damage function by adding them.</p>
<p>To create a composite consequence function, right-click on the <strong>Consequences</strong> folder in the Project Explorer (Figure <a href="consequence-functions.html#fig:figure-120">9.9</a>) or go to <strong>Project Menu &gt; Consequences</strong> and select <strong>Add Composite Consequence…</strong>. Enter a name for the composite consequence function and click <strong>OK</strong>.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-120"></span>
<img src="images/figure120.png" alt="The Add Composite Consequence option under the right-click menu of Consequences on the left, and the Composite Consequence function dialog box on the right allowing the user to enter the name of the consequence function."><p class="caption">
Figure 9.9: Create new composite consequence function.
</p>
</div>
<p>Creating the new composite consequence function opens the Tabbed Documents area, and the Properties window displays the composite function properties (Figure <a href="consequence-functions.html#fig:figure-121">9.10</a>). In the Properties window, you can set the name, description, hazard type, hazard units, consequence, consequence unit, hazard and consequence interpolation transforms, composite type, and input consequence functions.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-121"></span>
<img src="images/figure121.png" alt="The Composite consequence properties window displaying tabular consequence properties section, interpolation transforms section, and consequence functions section for specifying composite type, selection for consequence functions and text boxes for specifying their weights."><p class="caption">
Figure 9.10: Composite consequence function properties.
</p>
</div>
<p>Choose one of the following options to define how the input functions are combined:</p>
<ul>
<li><p><strong>Additive</strong> adds the input functions together without requiring weights.</p></li>
<li><p><strong>Average</strong> combines the input functions and their uncertainties using a weighted average. The weights must sum to one.</p></li>
<li><p><strong>Mixture</strong> combines the input functions and their uncertainties as a mixture. The weights must sum to one. This method produces the same mean as the average method but with wider uncertainty bands in the composite function.</p></li>
</ul>
<p>To select input functions for the composite, use the <strong>Consequence Functions</strong> table. Click the <strong>Add Row(s)</strong> button in the table toolbar to add new rows for the input functions.</p>
<p>The Tabbed Document for a composite function includes a graphical representation of the composite function (Figure <a href="consequence-functions.html#fig:figure-122">9.11</a>).</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:figure-122"></span>
<img src="images/figure122.png" alt="Displays the Composite consequence function graph with Day and Night life loss with mean, median, and 90% confidence interval. The Stage in ft is on the x-axis and Life Loss in lives is plotted on the y-axis."><p class="caption">
Figure 9.11: Composite consequence function graphical display.
</p>
</div>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body">
<div id="ref-cite-LifeSimManual" class="csl-entry">
<div class="csl-left-margin">[7] </div>
<div class="csl-right-inline">
<em>LifeSim life loss estimation user’s manual, CPD-97</em>. Davis, CA: U.S. Army Corps of Engineers, Institute for Water Resources, Hydrologic Engineering Center, 2021. Available: <a href="https://iwrlibrary.sec.usace.army.mil/resource/06bd49f2-cdd5-4e50-b58b-96c804c18886">https://iwrlibrary.sec.usace.army.mil/resource/06bd49f2-cdd5-4e50-b58b-96c804c18886</a>
</div>
</div>
<div id="ref-cite-Fields2016" class="csl-entry">
<div class="csl-left-margin">[8] </div>
<div class="csl-right-inline">W. L. Fields, <span>“Life loss estimation from flood events: A new approach to population redistribution with uncertainty,”</span> in <em>ANCOLD conference 2016</em>, Adelaide, AUS: Australian National Committee on Large Dams, 2016.</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="system-response-functions.html"><span class="header-section-number">8</span> System Response Functions</a></div>
<div class="next"><a href="risk-analyses.html"><span class="header-section-number">10</span> Risk Analyses</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#consequence-functions"><span class="header-section-number">9</span> Consequence Functions</a></li>
<li><a class="nav-link" href="#import-from-lifesim"><span class="header-section-number">9.1</span> Import from LifeSim</a></li>
<li>
<a class="nav-link" href="#tabular-consequence-function"><span class="header-section-number">9.2</span> Tabular Consequence Function</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#data-validation-3"><span class="header-section-number">9.2.1</span> Data Validation</a></li></ul>
</li>
<li><a class="nav-link" href="#composite-consequence-function"><span class="header-section-number">9.3</span> Composite Consequence Function</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/USACE-RMC/RMC-TotalRisk-Users-Guide/blob/main/bookdown/09-consequence-functions.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/USACE-RMC/RMC-TotalRisk-Users-Guide/edit/main/bookdown/09-consequence-functions.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>RMC-TotalRisk User’s Guide</strong>" was written by C. Haden Smith and Woodrow L. Fields. It was last built on Last updated: 2025-01-24.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
